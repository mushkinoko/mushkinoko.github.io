<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>お昼ごはん</title>
<link rel="stylesheet" href="framework7.ios.min.css">
<link rel="stylesheet" href="framework7.ios.colors.min.css">
<style type="text/css">
  .total{
    font-size: 2rem;
    text-align: right;
  }
</style>
</head>
<body>
<div class="views">
  <div class="view view-main">
    <div class="navbar">
      <div class="navbar-inner" data-page="index">
        <div class="center sliding">お昼ごはん</div>
        <div class="right sliding"><a href="#" class="link reset">リセット</a></div>
      </div>
      <div class="navbar-inner cached" data-page="shushoku">
        <div class="left sliding"><a href="#index" class="back link"><i class="icon icon-back"></i><span>戻る</span></a></div>
        <div class="center sliding">主食</div>
      </div>
      <div class="navbar-inner cached" data-page="shusai">
        <div class="left sliding"><a href="#index" class="back link"><i class="icon icon-back"></i><span>戻る</span></a></div>
        <div class="center sliding">主菜</div>
      </div>
      <div class="navbar-inner cached" data-page="fukusai">
        <div class="left sliding"><a href="#index" class="back link"><i class="icon icon-back"></i><span>戻る</span></a></div>
        <div class="center sliding">副菜</div>
      </div>
    </div>

    <div class="pages navbar-through">
      <div class="page" data-page="index">
        <div class="page-content">
          <div class="list-block"><ul>
            <li><a href="#shushoku" class="item-link"><div class="item-content"><div class="item-inner"> 
              <div class="item-title">主食</div>
            </div></div></a></li>
            <li><a href="#shusai" class="item-link"><div class="item-content"><div class="item-inner">
              <div class="item-title">主菜</div>
            </div></div></a></li>
            <li><a href="#fukusai" class="item-link"><div class="item-content"><div class="item-inner">
              <div class="item-title">副菜</div>
            </div></div></a></li>
          </ul></div>
          <div class="content-block"><p class="total">合計: 0円</p></div>
        </div>
      </div>

      <div class="page cached" data-page="shushoku">
        <div class="page-content">
          <div class="content-block-title">主食</div>
          <div class="list-block"><ul>
            <li><label class="label-radio item-content">
              <input type="radio" name="shushoku" value="gohan-200">
              <div class="item-inner"><div class="item-title">ご飯</div></div>
            </label></li>
            <li><label class="label-radio item-content">
              <input type="radio" name="shushoku" value="pan-300">
              <div class="item-inner"><div class="item-title">パン</div></div>
            </label></li>
          </ul></div> 
        </div>
      </div>

      <div class="page cached" data-page="shusai">
        <div class="page-content">
          <div class="content-block-title">主菜</div>
          <div class="list-block"><ul>
            <li><label class="label-checkbox item-content">
              <input type="checkbox" name="shusai" value="yakizakana-400">
              <div class="item-media"><i class="icon icon-form-checkbox"></i></div>
              <div class="item-inner"><div class="item-title">焼き魚</div></div>
            </label></li>
            <li><label class="label-checkbox item-content">
              <input type="checkbox" name="shusai" value="hanbagu-500">
              <div class="item-media"><i class="icon icon-form-checkbox"></i></div>
              <div class="item-inner"><div class="item-title">ハンバーグ</div></div>
            </label></li>
          </ul></div>
        </div>
      </div>

      <div class="page cached" data-page="fukusai">
        <div class="page-content">
          <div class="content-block-title">副菜</div>
          <div class="list-block"><ul>
            <li><label class="label-checkbox item-content">
              <input type="checkbox" name="fukusai" value="sarada-150">
              <div class="item-media"><i class="icon icon-form-checkbox"></i></div>
              <div class="item-inner"><div class="item-title">サラダ</div></div>
            </label></li>
            <li><label class="label-checkbox item-content">
              <input type="checkbox" name="fukusai" value="tsukemono-100">
              <div class="item-media"><i class="icon icon-form-checkbox"></i></div>
              <div class="item-inner"><div class="item-title">漬け物</div></div>
            </label></li>
          </ul></div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="framework7.min.js"></script>
<script type="text/javascript">
  var myApp = new Framework7({
    modalTitle: 'お昼ごはん',
    animateNavBackIcon: true,
    swipeBackPage: false
  }); 
  var $$ = Dom7;
  var mainView = myApp.addView('.view-main', {
    domCache: true,
    dynamicNavbar: true
  });
  var total, ohirugohan;
  $$(document).on('click', '.back', function() { 
    total = 0;
    $$('input:checked').each(function() {
      ohirugohan = $$(this).val().split('-');
      total+=parseInt(ohirugohan[1]);
    });
    $$('.total').text('合計: ' + total + '円');
  });
  $$('.reset').on('click', function() {
    var buttons = [
      {
        text: 'リセットしますか？',
        label: true
      },
      {
        text: 'はい',
        color: 'red',
        bold: true,
        onClick: function() {
          $$('input:checked').prop('checked', false);
          $$('.total').text('合計: 0円');
          myApp.alert('リセットしました。');
        }
      },
      {
        text: 'いいえ'
      }
    ];
    myApp.actions(buttons);
  });
</script>
</body>
</html>
